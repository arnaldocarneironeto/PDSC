<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:h="http://java.sun.com/jsf/html" xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:p="http://primefaces.org/ui"
      xmlns:f="http://java.sun.com/jsf/core">
    <ui:composition template="/template/layout.xhtml">
        <ui:define name="menu"> <!-- Renderizar apenas se estiver logado -->
            <h:panelGrid columns="1" rendered="true">
                <h:commandLink value="Alterar dados" action="#" />
<!--                 Para alunos -->
                <h:commandLink value="Definir preferência de escolas" action="#" />
                <h:commandLink value="Ver dados da escola para a qual foi aceito(a)" action="#" />
<!--                 Para representantes -->
                <h:commandLink value="Gerenciar escola" action="#" />
                <h:commandLink value="Ver lista de alunos" action="#" />
<!--                 Para administradores -->
                <h:commandLink value="Gerenciar alunos" action="#" />
                <h:commandLink value="Gerenciar representantes" action="#" />
                <h:commandLink value="Gerenciar administradores" action="#" />
                <h:commandLink value="Gerenciar sistema" action="#" />
            </h:panelGrid>
        </ui:define>
        <ui:define name="conteudo">
        	<h:panelGroup id="conteudoaberto">
	            <h1>Caríssimo aluno, cadastre-se aqui</h1>
	            <h:form>
	            	<h:panelGrid columns="2">
		            	<h:outputLabel value="Nome" for="cadNome" />
		            	<h:inputText id="cadNome" value="Nome" label="Nome" />
		            	<h:outputLabel value="E-mail" for="cadEmail" />
		            	<h:inputText id="cadEmail" value="E-mail" label="Email" />
		            	<h:outputLabel value="Nome de usuário" for="cadNomeAluno" />
		            	<h:inputText id="cadLogin" value="Login" label="Login" />
		            	<h:outputLabel value="Senha" for="cadSenha" />
		            	<h:inputSecret id="CadSenha" value="Senha" label="Senha" />
		            	<h:outputLabel value="Confirmação de senha" for="cadConfSenha" />
		            	<h:inputSecret id="cadConfSenha" value="Confirmação de senha" label="confSenha" />
	            	</h:panelGrid>
	            	<h:commandButton action="#" value="Cadastre-se" />
	            </h:form>
            </h:panelGroup>
            <h:panelGroup id="dadosAluno">
            	<h1>Veja e/ou altere seus dados</h1>
            	<h:form>
            		<h:panelGrid columns="2">
	            		<h:outputLabel value="Nome" for="nomeAluno" />
	            		<h:inputText id="nomeAluno" value="Nome do aluno"  />
	            		<h:outputLabel value="Email" for="emailAluno" />
	            		<h:inputText id="emailAluno" value="E-mail"  />
	            		<h:outputLabel value="Nome de usuário" for="loginAluno" />
	            		<h:inputText id="loginAluno" value="Nome de usuário" disabled="true" />
	            		<h:outputLabel value="Senha" for="senhaAluno" />
	            		<h:inputSecret id="senhaAluno" value="Senha"  />
	            		<h:outputLabel value="Confirmação de Senha" for="confSenhaAluno" />
	            		<h:inputSecret id="confSenhaAluno" value="Confirmação de Senha"  />
            		</h:panelGrid>
            		<h:commandButton action="#" value="Salvar alterações" />
            	</h:form>
            </h:panelGroup>
            <h:panelGroup id="ordemEscolas">
            	<h1>Ordene as escolas conforme a sua preferência</h1>
            	<h:form>
            		<p:growl id="msgs" showDetail="true" />
	            	<p:orderList value="#{orderListView.escolas}" var="escola" itemValue="#{escola}" controlsLocation="right" responsive="true" >
	            		<p:ajax event="select" listener="#{orderListView.onSelect}" update="msgs" />
	            		<p:column styleClass="your-orderlist-row" style="width:33%;">
	            			<h:outputText value="#{escola.nome}" />
	            		</p:column>
	            		<p:column styleClass="your-orderlist-row" style="width:5%;">
	            			<h:outputText value="#{escola.conceito}" />
	            		</p:column>
	            		<p:column styleClass="your-orderlist-row" style="width:62%;">
	            			<h:outputText value="#{escola.descricao}" />
	            		</p:column>
	            	</p:orderList>
	            	<h:panelGroup>
	            		<h:outputText value="#{escola}" />
	            	</h:panelGroup>
	            	<h:commandButton action="#" value="Salvar" />
            	</h:form>
            </h:panelGroup>
            <h:panelGroup id="escola">
            	<h1>Você foi selecionado(a) para esta escola</h1>
            	<h:form>
            		<h:panelGrid columns="2">
	            		<h:outputLabel value="Nome" for="nomeEscola" />
	            		<h:outputText value="#{escola.nome}" id="nomeEscola" />
	            		<h:outputLabel value="Conceito" for="conceitoEscola" />
	            		<h:outputText value="#{escola.conceito}" id="conceitoEscola" />
	            		<h:outputLabel value="Descrição" for="descricaoEscola" />
	            		<h:outputText value="#{escola.descricao}" id="descricaoEscola" />
            		</h:panelGrid>
            	</h:form>
            </h:panelGroup>
            <h:panelGroup id="dadosRepresentante">
            	<h1>Veja e/ou altere seus dados</h1>
            	<h:form>
            		<h:panelGrid columns="2">
	            		<h:outputLabel value="Nome" for="nomeRepresentante" />
	            		<h:inputText id="nomeRepresentante" value="Nome do representante"  />
	            		<h:outputLabel value="Email" for="emailRepresentante" />
	            		<h:inputText id="emailRepresentante" value="E-mail"  />
	            		<h:outputLabel value="Nome de usuário" for="loginRepresentante" />
	            		<h:inputText id="loginRepresentante" value="Nome de usuário" disabled="true" />
	            		<h:outputLabel value="Senha" for="senhaRepresentante" />
	            		<h:inputSecret id="senhaRepresentante" value="Senha"  />
	            		<h:outputLabel value="Confirmação de Senha" for="confSenhaRepresentante" />
	            		<h:inputSecret id="confSenhaRepresentante" value="Confirmação de Senha"  />
            		</h:panelGrid>
            		<h:commandButton action="#" value="Salvar alterações" />
            	</h:form>
            </h:panelGroup>
            <h:panelGroup id="dadosEscola">
            	<h1>Veja e/ou altere os dados da escola</h1>
            	<h:form>
            		<h:messages />
            		<h:panelGroup>
            			<h:outputLabel value="Nome" for="escolaNome" />
            			<h:inputText id="escolaNome" value="Nome" />
            			<h:outputLabel value="Conceito" for="escolaConceito" />
            			<h:inputText id="escolaConceito" value="Conceito" />
            			<h:outputLabel value="Descrição" for="escolaDescrição" />
            			<h:inputText id="escolaDescrição" value="Descrição" />
            			<h:outputLabel value="Número de vagas disponíveis" for="escolaVagas" />
            			<h:inputText id="escolaVagas" value="10" />
            		</h:panelGroup>
            		<h:panelGroup>
            			<h:dataTable value="#{escolaManager.escola.criterios.entrySet().toArray()}" var="criterio">
            				<f:facet name="header">
            					<h:commandButton action="#" value="Novo critério">
            						<f:ajax execute="@form" render="@form" />
            					</h:commandButton>
            				</f:facet>
            				<h:column>
            					<f:facet name="header"><h:outputText value="Disciplina" /></f:facet>
            					<h:outputText value="#{criterio.key}" />
            				</h:column>
            				<h:column>
            					<f:facet name="header"><h:outputText value="Critério" /></f:facet>
            					<h:outputText value="#{criterio.value}" />
            				</h:column>
            				<h:column>
            					<f:facet name="header"><h:outputText value="Atualizar" /></f:facet>
            					<h:commandLink action="#" value="Atualizar">
            						<f:ajax render="@form" execute="@form" />
            					</h:commandLink>
            				</h:column>
            				<h:column>
            					<f:facet name="header"><h:outputText value="Excluir" /></f:facet>
            					<h:commandLink action="#" value="Excluir" onclick="if (!confirm('Deseja realmente excluir o critério?')) return false">
            						<f:ajax render="@form" execute="@form" />
            					</h:commandLink>
            				</h:column>
            			</h:dataTable>
            		</h:panelGroup>
            		<h:panelGroup>
            			<h:panelGrid columns="2">
            				<f:facet name="header"><h:outputText value="Atualizando critério" /></f:facet>
            				<h:outputLabel value="Disciplina" for="criterioNome" />
                        	<p:inputText id="criterioNome" value="#{escolaManager.criterio.key}"/>
            				<h:outputLabel value="Peso" for="criterioPeso" />
                        	<p:inputText id="criterioPeso" value="#{escolaManager.criterio.value}"/>
                        	<f:facet name="footer">
	                            <div align="center">
	                                <h:commandButton action="#" value="Cancelar" immediate="true">
	                                    <f:ajax execute="@form" render="@form"/>
	                                </h:commandButton>
	                                <h:commandButton action="#" value="Salvar">
	                                    <f:ajax execute="@form" render="@form"/>
	                                </h:commandButton>
	                            </div>
	                        </f:facet>
            			</h:panelGrid>
            		</h:panelGroup>
            	</h:form>
            </h:panelGroup>
            <h:panelGroup>
            	<h1>Lista de alunos selecionados</h1>
            	<h:dataTable value="#{escolaManager.escola.alunos_selecionados}" var="aluno">
      				<h:column>
      					<f:facet name="header"><h:outputText value="Nome" /></f:facet>
      					<h:outputText value="#{aluno.nome}" />
      				</h:column>
      				<h:column>
      					<f:facet name="header"><h:outputText value="E-mail" /></f:facet>
      					<h:outputText value="#{aluno.email}" />
      				</h:column>
      				<h:column>
      					<f:facet name="header"><h:outputText value="Notas" /></f:facet>
      					<h:outputText value="#{aluno.notas}" />
      				</h:column>
      			</h:dataTable>
            </h:panelGroup>
            <h:panelGroup>
            	<h1>Gerenciar alunos</h1>
            	<h:dataTable value="#{alunosCRUDBean.lista()}" var="aluno" id="listaAlunos">
	            	<f:facet name="header">
	                     <h:commandButton action="#{alunosCRUDBean.novo()}" value="Novo">			
	                         <f:ajax execute="@form" render="@form"/>
	                     </h:commandButton>
	                 </f:facet>					
	                 <h:column>
	                     <f:facet name="header"><h:outputText value="Nome" /></f:facet>
	                     <h:outputText value="#{aluno.nome}" />
	                 </h:column>
	                 <h:column>
	                     <f:facet name="header"><h:outputText value="E-mail" /></f:facet>
	                     <h:outputText value="#{aluno.email}" />
	                 </h:column>
	                 <h:column>
	                     <f:facet name="header"><h:outputText value="Nome de usuário" /></f:facet>
	                     <h:outputText value="#{aluno.login}" />
	                 </h:column>
	                 <h:column>
                         <f:facet name="header"><h:outputText value="Senha" /></f:facet>
                         <h:outputText value="•••••" />
                     </h:column>
                     <h:column>
                         <f:facet name="header"><h:outputText value="Atualizar" /></f:facet>
                         <h:commandLink action="#{alunosCRUDBean.atualizar(aluno)}" value="Atualizar">
                             <f:ajax render="@form" execute="@form"/>
                         </h:commandLink>
                     </h:column>
                     <h:column>
                         <f:facet name="header"><h:outputText value="Excluir" /></f:facet>
                         <h:commandLink action="#{alunosCRUDBean.apagar(aluno)}" value="Excluir" onclick="if (!confirm('Deseja realmente excluir o aluno?')) return false">
                             <f:ajax execute = "@form" render="@form"/>
                         </h:commandLink>
                     </h:column>
            	</h:dataTable>
            	<h:panelGrid columns="2">
            		<f:facet name="header"><h:outputText value="Editando aluno" /></f:facet>
            		<h:outputLabel value="Nome" />
                    <p:inputText value="#{alunosCRUDBean.alunoAtual.nome}"/>
            		<h:outputLabel value="E-mail" />
                    <p:inputText value="#{alunosCRUDBean.alunoAtual.email}"/>
            		<h:outputLabel value="Nome de usuário" />
                    <p:inputText value="#{alunosCRUDBean.alunoAtual.login}"/>
            		<h:outputLabel value="Senha" />
                    <p:password value="#{alunosCRUDBean.alunoAtual.senha}" feedback="true"
                    			promptLabel="Digite a nova senha"
                                weakLabel="Senha fraca"
                                goodLabel="Senha boa"
                                strongLabel="Senha forte"/>
                    <f:facet name="footer">
                        <div align="center">
                            <h:commandButton action="#{alunosCRUDBean.cancelar()}" value="Cancelar" immediate="true">
                                <f:ajax execute="@form" render="@form"/>
                            </h:commandButton>
                            <h:commandButton action="#{alunosCRUDBean.salvar()}" value="Salvar">
                                <f:ajax execute="@form" render="@form"/>
                            </h:commandButton>
                        </div>
                    </f:facet>
            	</h:panelGrid>
            </h:panelGroup>
            <h:panelGroup>
            	<h1>Gerenciar representantes</h1>
            	<h:dataTable value="#{representantesCRUDBean.lista()}" var="representante" id="listaRepresentantes">
	            	<f:facet name="header">
	                     <h:commandButton action="#{representantesCRUDBean.novo()}" value="Novo">			
	                         <f:ajax execute="@form" render="@form"/>
	                     </h:commandButton>
	                 </f:facet>					
	                 <h:column>
	                     <f:facet name="header"><h:outputText value="Nome" /></f:facet>
	                     <h:outputText value="#{representante.nome}" />
	                 </h:column>
	                 <h:column>
	                     <f:facet name="header"><h:outputText value="E-mail" /></f:facet>
	                     <h:outputText value="#{representante.email}" />
	                 </h:column>
	                 <h:column>
	                     <f:facet name="header"><h:outputText value="Nome de usuário" /></f:facet>
	                     <h:outputText value="#{representante.login}" />
	                 </h:column>
	                 <h:column>
                         <f:facet name="header"><h:outputText value="Senha" /></f:facet>
                         <h:outputText value="•••••" />
                     </h:column>
                     <h:column>
                         <f:facet name="header"><h:outputText value="Atualizar" /></f:facet>
                         <h:commandLink action="#{representantesCRUDBean.atualizar(representante)}" value="Atualizar">
                             <f:ajax render="@form" execute="@form"/>
                         </h:commandLink>
                     </h:column>
                     <h:column>
                         <f:facet name="header"><h:outputText value="Excluir" /></f:facet>
                         <h:commandLink action="#{representantesCRUDBean.apagar(representante)}" value="Excluir" onclick="if (!confirm('Deseja realmente excluir o representante (e a respectiva escola)?')) return false">
                             <f:ajax execute = "@form" render="@form"/>
                         </h:commandLink>
                     </h:column>
            	</h:dataTable>
            	<h:panelGrid columns="2">
            		<f:facet name="header"><h:outputText value="Editando representante" /></f:facet>
            		<h:outputLabel value="Nome" />
                    <p:inputText value="#{representantesCRUDBean.representanteAtual.nome}"/>
            		<h:outputLabel value="E-mail" />
                    <p:inputText value="#{representantesCRUDBean.representanteAtual.email}"/>
            		<h:outputLabel value="Nome de usuário" />
                    <p:inputText value="#{representantesCRUDBean.representanteAtual.login}"/>
            		<h:outputLabel value="Senha" />
                    <p:password value="#{representantesCRUDBean.representanteAtual.senha}" feedback="true"
                    			promptLabel="Digite a nova senha"
                                weakLabel="Senha fraca"
                                goodLabel="Senha boa"
                                strongLabel="Senha forte"/>
                    <f:facet name="footer">
                        <div align="center">
                            <h:commandButton action="#{representantesCRUDBean.cancelar()}" value="Cancelar" immediate="true">
                                <f:ajax execute="@form" render="@form"/>
                            </h:commandButton>
                            <h:commandButton action="#{representantesCRUDBean.salvar()}" value="Salvar">
                                <f:ajax execute="@form" render="@form"/>
                            </h:commandButton>
                        </div>
                    </f:facet>
            	</h:panelGrid>
            </h:panelGroup>
            <h:panelGroup>
            	<h1>Gerenciar administradores</h1>
            	<h:dataTable value="#{administradoresCRUDBean.lista()}" var="administrador" id="listaAdministradores">
	            	<f:facet name="header">
	                     <h:commandButton action="#{administradoresCRUDBean.novo()}" value="Novo">			
	                         <f:ajax execute="@form" render="@form"/>
	                     </h:commandButton>
	                 </f:facet>					
	                 <h:column>
	                     <f:facet name="header"><h:outputText value="Nome" /></f:facet>
	                     <h:outputText value="#{administrador.nome}" />
	                 </h:column>
	                 <h:column>
	                     <f:facet name="header"><h:outputText value="E-mail" /></f:facet>
	                     <h:outputText value="#{administrador.email}" />
	                 </h:column>
	                 <h:column>
	                     <f:facet name="header"><h:outputText value="Nome de usuário" /></f:facet>
	                     <h:outputText value="#{administrador.login}" />
	                 </h:column>
	                 <h:column>
                         <f:facet name="header"><h:outputText value="Senha" /></f:facet>
                         <h:outputText value="•••••" />
                     </h:column>
                     <h:column>
                         <f:facet name="header"><h:outputText value="Atualizar" /></f:facet>
                         <h:commandLink action="#{administradoresCRUDBean.atualizar(administrador)}" value="Atualizar">
                             <f:ajax render="@form" execute="@form"/>
                         </h:commandLink>
                     </h:column>
                     <h:column>
                         <f:facet name="header"><h:outputText value="Excluir" /></f:facet>
                         <h:commandLink action="#{administradoresCRUDBean.apagar(administrador)}" value="Excluir" onclick="if (!confirm('Deseja realmente excluir o administrador?')) return false">
                             <f:ajax execute = "@form" render="@form"/>
                         </h:commandLink>
                     </h:column>
            	</h:dataTable>
            	<h:panelGrid columns="2">
            		<f:facet name="header"><h:outputText value="Editando administrador" /></f:facet>
            		<h:outputLabel value="Nome" />
                    <p:inputText value="#{administradoresCRUDBean.administradorAtual.nome}"/>
            		<h:outputLabel value="E-mail" />
                    <p:inputText value="#{administradoresCRUDBean.administradorAtual.email}"/>
            		<h:outputLabel value="Nome de usuário" />
                    <p:inputText value="#{administradoresCRUDBean.administradorAtual.login}"/>
            		<h:outputLabel value="senha" />
                    <p:password value="#{administradoresCRUDBean.administradorAtual.senha}" feedback="true"
                    			promptLabel="Digite a nova senha"
                                weakLabel="Senha fraca"
                                goodLabel="Senha boa"
                                strongLabel="Senha forte"/>
                    <f:facet name="footer">
                        <div align="center">
                            <h:commandButton action="#{administradoresCRUDBean.cancelar()}" value="Cancelar" immediate="true">
                                <f:ajax execute="@form" render="@form"/>
                            </h:commandButton>
                            <h:commandButton action="#{administradoresCRUDBean.salvar()}" value="Salvar">
                                <f:ajax execute="@form" render="@form"/>
                            </h:commandButton>
                        </div>
                    </f:facet>
            	</h:panelGrid>
            </h:panelGroup>
            <h:panelGroup>
            	<h:commandButton action="#" value="Iniciar fase de cadastros" />
            	<h:commandButton action="#" value="Iniciar fase de definição de preferências" />
            	<h:commandButton action="#" value="Executar distribuição de vagas" />
            </h:panelGroup>
        </ui:define>
<!--         <ui:define name="cabecalho"> -->
<!--             <h1>Template Web - Inicio</h1> -->
<!--         </ui:define> -->
<!--         <ui:define name="title"> -->
<!--             <title>Página principal</title> -->
<!--         </ui:define> -->
    </ui:composition>
</html>